{"version":3,"file":"ex2.js","sources":["../examples/example2.js"],"sourcesContent":["//////////////////\r\n/// example   ////\r\n/////////////////\r\n\r\n// you need to make one instance of makeTransitionGroup per use\r\n// otherwise all transitionGroup will share the same state\r\nconst transitionGroup = makeTransitionGroup()\r\n\r\nconst addItem = ({ i, items }) => ({ i: i + 1, items: [i].concat(items) })\r\nconst removeItem = ({ i, items }) => ({ i, items: items.filter((item, j) => j !== (items.length / 2 | 0)) })\r\nconst replaceItem = ({ i, items }) => ({ i: i + 1, items: items.map((item, j) => j === (items.length / 2 | 0) ? i : item) })\r\nconst shuffle = ({ i, items }) => ({ i, items: items.map((v, i) => items[(1 + i * 347) % items.length]) })\r\nconst removeTwoItems = ({ i, items }) => ({ i, items: items.filter((item, j) => j !== 1 && j !== 4) })\r\nconst clear = ({ i, items }) => ({ i, items: [] })\r\n\r\nconst view = state =>\r\n    h(\"main\", {}, [\r\n        transitionGroup({\r\n            tag: \"div\",\r\n            props: {class: \"ex3-container\"},\r\n            items: state.items,\r\n            getKey: x => x\r\n        }, (index, value, status) =>\r\n            h(\"div\", { style: { left: (index * 50) + \"px\" }, class: \"ex3-item ex3-item-\" + status }, value)\r\n        ),\r\n        h(\"div\", {}, [\r\n            h(\"button\", { onclick: addItem }, \"Add an item\"),\r\n            h(\"button\", { onclick: removeItem }, \"Remove an item\"),\r\n            h(\"button\", { onclick: replaceItem }, \"Replace an item\"),\r\n            h(\"button\", { onclick: shuffle }, \"Shuffle\"),\r\n            h(\"button\", { onclick: removeTwoItems }, \"Remove two items\"),\r\n            h(\"button\", { onclick: clear }, \"Clear\"),\r\n        ])\r\n    ])\r\n\r\napp({\r\n    init: { i: 0, items: [] },\r\n    view,\r\n    node: document.getElementById(\"app\"),\r\n    subscriptions: () => [transitionSub] // shallow copy to force the render\r\n})"],"names":[],"mappings":";;;IAAA;IACA;IACA;;IAEA;IACA;IACA,MAAM,eAAe,GAAG,mBAAmB,GAAE;;IAE7C,MAAM,OAAO,GAAG,CAAC,EAAE,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE,EAAC;IAC1E,MAAM,UAAU,GAAG,CAAC,EAAE,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,CAAC,EAAE,KAAK,EAAE,KAAK,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,KAAK,CAAC,MAAM,KAAK,CAAC,MAAM,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAC;IAC5G,MAAM,WAAW,GAAG,CAAC,EAAE,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,KAAK,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,CAAC,KAAK,CAAC,MAAM,KAAK,CAAC,MAAM,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,EAAE,EAAC;IAC5H,MAAM,OAAO,GAAG,CAAC,EAAE,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,CAAC,EAAE,KAAK,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,GAAG,IAAI,KAAK,CAAC,MAAM,CAAC,CAAC,EAAE,EAAC;IAC1G,MAAM,cAAc,GAAG,CAAC,EAAE,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,CAAC,EAAE,KAAK,EAAE,KAAK,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,EAAC;IACtG,MAAM,KAAK,GAAG,CAAC,EAAE,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,EAAC;;IAElD,MAAM,IAAI,GAAG,KAAK;IAClB,IAAI,CAAC,CAAC,MAAM,EAAE,EAAE,EAAE;IAClB,QAAQ,eAAe,CAAC;IACxB,YAAY,GAAG,EAAE,KAAK;IACtB,YAAY,KAAK,EAAE,CAAC,KAAK,EAAE,eAAe,CAAC;IAC3C,YAAY,KAAK,EAAE,KAAK,CAAC,KAAK;IAC9B,YAAY,MAAM,EAAE,CAAC,IAAI,CAAC;IAC1B,SAAS,EAAE,CAAC,KAAK,EAAE,KAAK,EAAE,MAAM;IAChC,YAAY,CAAC,CAAC,KAAK,EAAE,EAAE,KAAK,EAAE,EAAE,IAAI,EAAE,CAAC,KAAK,GAAG,EAAE,IAAI,IAAI,EAAE,EAAE,KAAK,EAAE,oBAAoB,GAAG,MAAM,EAAE,EAAE,KAAK,CAAC;IAC3G,SAAS;IACT,QAAQ,CAAC,CAAC,KAAK,EAAE,EAAE,EAAE;IACrB,YAAY,CAAC,CAAC,QAAQ,EAAE,EAAE,OAAO,EAAE,OAAO,EAAE,EAAE,aAAa,CAAC;IAC5D,YAAY,CAAC,CAAC,QAAQ,EAAE,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,gBAAgB,CAAC;IAClE,YAAY,CAAC,CAAC,QAAQ,EAAE,EAAE,OAAO,EAAE,WAAW,EAAE,EAAE,iBAAiB,CAAC;IACpE,YAAY,CAAC,CAAC,QAAQ,EAAE,EAAE,OAAO,EAAE,OAAO,EAAE,EAAE,SAAS,CAAC;IACxD,YAAY,CAAC,CAAC,QAAQ,EAAE,EAAE,OAAO,EAAE,cAAc,EAAE,EAAE,kBAAkB,CAAC;IACxE,YAAY,CAAC,CAAC,QAAQ,EAAE,EAAE,OAAO,EAAE,KAAK,EAAE,EAAE,OAAO,CAAC;IACpD,SAAS,CAAC;IACV,KAAK,EAAC;;IAEN,GAAG,CAAC;IACJ,IAAI,IAAI,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE;IAC7B,IAAI,IAAI;IACR,IAAI,IAAI,EAAE,QAAQ,CAAC,cAAc,CAAC,KAAK,CAAC;IACxC,IAAI,aAAa,EAAE,MAAM,CAAC,aAAa,CAAC;IACxC,CAAC;;;;"}